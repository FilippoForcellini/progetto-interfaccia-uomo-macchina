@model Pianificazioneturni.Web.Areas.Example.Users.NaveDetailViewModel

<div class="modal-title">@(Model.Id == 0 ? "Nuova Nave" : "Dettaglio Nave")</div>

<form id="formNave" method="post" asp-action="SalvaNave" onsubmit="return validaFormNave()">
    <input type="hidden" name="id" id="inputNaveId" value="@Model.Id" />

    <div class="form-group mb-3">
        <label class="form-label fw-bold">Nome:</label>
        <input type="text" class="form-control" name="nome" id="inputNome" value="@Model.Nome" required />
    </div>

    <div class="form-group mb-3">
        <label class="form-label fw-bold">Pontile:</label>
        <input type="number" class="form-control" name="pontile" id="inputPontile" value="@Model.Pontile" min="1" required />
    </div>

    <div class="form-group mb-3">
        <label class="form-label fw-bold">Ruoli Richiesti:</label>
        <div class="form-check">
            <input type="checkbox" class="form-check-input" name="richiedeGruisti" id="checkGruisti" value="true" @(Model.RichiedeGruisti ? "checked" : "") />
            <label class="form-check-label" for="checkGruisti">Gruisti</label>
        </div>
        <div class="form-check">
            <input type="checkbox" class="form-check-input" name="richiedeMulettisti" id="checkMulettisti" value="true" @(Model.RichiedeMulettisti ? "checked" : "") />
            <label class="form-check-label" for="checkMulettisti">Mulettisti</label>
        </div>
    </div>

    @{
        var dataArrivoStr = Model.DataArrivo.HasValue ? Model.DataArrivo.Value.ToString("yyyy-MM-dd") : "";
        var dataPartenzaStr = Model.DataPartenza.HasValue ? Model.DataPartenza.Value.ToString("yyyy-MM-dd") : "";
    }

    <div class="arrivo-partenza-container">
        <div class="row">
            <div class="col-6">
                <label class="form-label fw-bold">Data Arrivo:</label>
                <input type="date" class="form-control" name="dataArrivo" id="inputDataArrivo"
                       value="@dataArrivoStr" required />
            </div>
            <div class="col-6">
                <label class="form-label fw-bold">Orario Arrivo:</label>
                <select class="form-select" name="orarioArrivo" id="selectOrarioArrivo" required>
                    <!option value="0" @(Model.OrarioArrivo == 0 ? "selected" : "")>00:00</!option>
                    <!option value="8" @(Model.OrarioArrivo == 8 ? "selected" : "")>08:00</!option>
                    <!option value="16" @(Model.OrarioArrivo == 16 ? "selected" : "")>16:00</!option>
                </select>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-6">
                <label class="form-label fw-bold">Data Partenza:</label>
                <input type="date" class="form-control" name="dataPartenza" id="inputDataPartenza"
                       value="@dataPartenzaStr" required />
            </div>
            <div class="col-6">
                <label class="form-label fw-bold">Orario Partenza:</label>
                <select class="form-select" name="orarioPartenza" id="selectOrarioPartenza" required>
                    <!option value="8" @(Model.OrarioPartenza == 8 ? "selected" : "")>08:00</!option>
                    <!option value="16" @(Model.OrarioPartenza == 16 ? "selected" : "")>16:00</!option>
                    <!option value="24" @(Model.OrarioPartenza == 24 ? "selected" : "")>24:00</!option>
                </select>
            </div>
        </div>
    </div>

    <div id="avisoDate" class="text-danger small mt-2" style="display: none;"></div>

    <div class="modal-footer d-flex justify-content-center gap-2 mt-4">
        <button type="button" class="btn btn-secondary" onclick="chiudiModal()">Annulla</button>
        @if (Model.Id != 0)
        {
            <button type="button" class="btn btn-danger" onclick="eliminaNave(@Model.Id)">Elimina</button>
        }
        <button type="submit" class="btn btn-success">Salva</button>
    </div>
</form>
